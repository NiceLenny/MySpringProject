<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link th:href="@{/css/style1.css}" type="text/css" rel="stylesheet">
    <title>Редактирование заказов</title>
</head>
<body>
<h3>Заказ</h3>
<form class="card mb-3" th:method="POST" th:action="@{/admin/order/edit/{id}(id=${order.getId()})}" th:object="${order}">
    <h3>Редактирование статуса заказа</h3>
    <img th:src="'/img/' + ${order.getProduct().getImageList()[0].getFileName()}" width="300px">

    <div class="mb-3">
        <label class="form-label" for="numOrder">Заказ №: </label>
        <input class="form-control" type="text" readonly th:field="*{number}" id="numOrder">
        <div style="color: red" th:if="${#fields.hasErrors('number')}" th:errors="*{number}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" for="name">Наименование: </label>
        <input class="form-control" type="text" readonly th:field="*{product}" id="name">
        <div style="color: red" th:if="${#fields.hasErrors('product')}" th:errors="*{product}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" for="count">Количество: </label>
        <input class="form-control" type="text" readonly th:field="*{count}" id="count">
        <div style="color: red" th:if="${#fields.hasErrors('id')}" th:errors="*{count}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" for="price">Цена: </label>
        <input class="form-control" type="text" readonly th:field="*{price}" id="price">
        <div style="color: red" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" for="dateOrder">Дата заказа:</label>
        <input class="form-control" type="text" readonly th:field="*{dateTime}" id="dateOrder">
        <div style="color: red" th:if="${#fields.hasErrors('dateTime')}" th:errors="*{dateTime}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" for="user">Пользователь: </label>
        <input class="form-control" type="text" readonly th:field="*{person}" id="user">
        <div style="color: red" th:if="${#fields.hasErrors('person')}" th:errors="*{person}"></div>
    </div>
         <br>
         <label class="form-label" for="status">Выберите статус: </label>
         <select class="form-control" id="status" th:field="*{status}">
             <option th:each="enum : ${T(com.example.myspringproject.enumm.Status).values()}"
                     th:text="${enum.getDisplayValue()}"
                     th:value = "${enum}">
             </option>
         </select>
         <div style="color: red" th:if="${#fields.hasErrors('status')}" th:errors="*{status}"></div>
         <br>
         <input type="submit" value="Изменить" class="btn btn-primary">
     </form>
     </body>
     </html>